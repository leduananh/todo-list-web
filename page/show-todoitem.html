<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Todoitem</title>
    <script type="module">
        import { loadHtmlUtil } from '../src/util/loadHtml.js'
        import { header } from '../src/component/header.js'
        // Dùng để load bootstrap file tự động không cần copy paste 
        loadHtmlUtil.loadDefaultBootstrapsCss()

        document.addEventListener('DOMContentLoaded', () => {
            // dùng để load những đoạn html bị lặp lại nhiều trang như header, footer
            loadHtmlUtil.render(header.selector, header.html, { name: 'hello' })
        })
    </script>
</head>

<body>
    <header id="header-section">
    </header>
    <span>Danh sách các TodoItem của SubCategory: <b id="show-subname"></b></span> 
    <script type="module">
        import { subCategoryService } from '../src/service/subCategoryService.js'
        import { categoryService } from '../src/service/categoryService.js'
        import { commonUtil } from '../src/util/common.js'
        import { todoItemService } from '../src/service/todoItemService.js'

        window.categoryService = categoryService
        window.subCategoryService = subCategoryService
        window.commonUtil = commonUtil

        let TodoName = commonUtil.loadQueryParamValueByQueryName('TodoName')
        let SubName = commonUtil.loadQueryParamValueByQueryName('SubName')

        const ListTodoItem = todoItemService.getAllTodoItemByTodoName(TodoName)

        
        let listSubCat = subCategoryService.getAllSubCategoryByCategoryName(categoryName)
        document.querySelector('#show-sub').innerHTML = `${JSON.stringify(listSubCat)}`
    </script>
</body>

</html>